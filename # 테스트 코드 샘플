ì•Œê² ìŠµë‹ˆë‹¤, ì§€ìš°ë‹˜!
ìš”ì²­í•˜ì‹  í˜•ì‹ì— ë§ì¶°, GET ë°©ì‹ìš©ê³¼ POST ë°©ì‹ìš© í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ì˜ ê¸°ë³¸ ê³¨ê²©ì„ Spring Boot + JUnit 5 + MockMvc ê¸°ì¤€ìœ¼ë¡œ ì•„ë˜ì— ì œê³µë“œë¦´ê²Œìš”.
ì•ìœ¼ë¡œ ìœ ë‹› í…ŒìŠ¤íŠ¸í•  ë•Œ ì´ êµ¬ì¡°ë¥¼ ê·¸ëŒ€ë¡œ ë³µë¶™í•´ì„œ ì“°ì‹œë©´ ë©ë‹ˆë‹¤.


---

âœ… ì „ì œ ì¡°ê±´ (ì´ë¯¸ ì„¤ì •ë¼ ìˆì–´ì•¼ í•  ê²ƒë“¤)

@WebMvcTest ë˜ëŠ” @SpringBootTest ê¸°ë°˜ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤

MockMvc ë¹ˆì„ ì£¼ì…ë°›ê³  ìˆì–´ì•¼ í•¨

com.fasterxml.jackson.databind.ObjectMapper ì‚¬ìš© ê°€ëŠ¥ (POSTìš©)



---

âœ… GET ë°©ì‹ í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ

@Test
@DisplayName("GET: /api/sample ì¡°íšŒ í…ŒìŠ¤íŠ¸")
void testGetSampleApi() throws Exception {
    // given
    String url = "/api/sample";
    String param1 = "test-value";
    String param2 = "123";

    // when & then
    mockMvc.perform(get(url)
            .param("param1", param1)
            .param("param2", param2))
        .andExpect(status().isOk())
        .andDo(print());
}


---

âœ… POST ë°©ì‹ í…ŒìŠ¤íŠ¸ ì˜ˆì‹œ

@Test
@DisplayName("POST: /api/sample ë“±ë¡ í…ŒìŠ¤íŠ¸")
void testPostSampleApi() throws Exception {
    // given
    String url = "/api/sample";
    SampleRequestDto requestDto = new SampleRequestDto();
    requestDto.setName("í…ŒìŠ¤íŠ¸");
    requestDto.setAge(30);

    // when & then
    mockMvc.perform(post(url)
            .contentType(MediaType.APPLICATION_JSON)
            .content(objectMapper.writeValueAsString(requestDto)))
        .andExpect(status().isOk())
        .andDo(print());
}

> ìœ„ì—ì„œ SampleRequestDtoëŠ” í…ŒìŠ¤íŠ¸ìš©ìœ¼ë¡œ ë§Œë“  ì˜ˆì‹œ DTO í´ë˜ìŠ¤ì…ë‹ˆë‹¤. ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” ìš”ì²­ DTOë¡œ ë°”ê¿”ì£¼ì„¸ìš”.




---

ğŸ“¦ ê´€ë ¨ import

import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;
import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;

import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;
import org.springframework.http.MediaType;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.test.web.servlet.MockMvc;

import com.fasterxml.jackson.databind.ObjectMapper;


---

â˜‘ï¸ ì°¸ê³ 

ìœ„ì˜ í…ŒìŠ¤íŠ¸ëŠ” ì •ìƒ í˜¸ì¶œ ì—¬ë¶€ í™•ì¸ + status 200ê¹Œì§€ë§Œ ê²€ì¦í•©ë‹ˆë‹¤.

coverageë§Œ í™•ì¸í•˜ë¼ê³  í–ˆìœ¼ë‹ˆ, ë‚´ë¶€ ë¡œì§ë³´ë‹¤ëŠ” ê²½ë¡œë¥¼ ëª¨ë‘ í•œë²ˆì”© í˜¸ì¶œí•˜ëŠ” ê²Œ í•µì‹¬ì…ë‹ˆë‹¤.

ë§Œì•½ ì»¤ë²„ë¦¬ì§€ë¥¼ ë” ë†’ì—¬ì•¼ í•œë‹¤ë©´ ì‘ë‹µê°’ ê²€ì¦, ì—ëŸ¬ ìƒí™© í…ŒìŠ¤íŠ¸ ë“±ì„ ì¶”ê°€í•´ë„ ë©ë‹ˆë‹¤.



---
