
function MyHeader() {}

MyHeader.prototype.init = function (params) {
  this.params = params;

  const wrapper = document.createElement('div');
  wrapper.className = 'my-custom-header-wrapper';

  const label = document.createElement('span');
  label.innerText = params.column.colDef.headerName || params.column.colDef.field;

  const button = document.createElement('button');
  button.innerText = 'ğŸ”„';
  button.className = 'my-header-button';
  button.addEventListener('click', () => {
    alert(`ì»¬ëŸ¼: ${params.column.colDef.field}`);
  });

  // ì •ë ¬ ì•„ì´ì½˜ ìˆ˜ë™ êµ¬í˜„
  this.sortIcon = document.createElement('span');
  this.sortIcon.className = 'my-sort-icon';
  this.sortIcon.style.marginLeft = '4px';
  this.updateSortIcon(); // ì´ˆê¸° í‘œì‹œ

  this.sortIcon.addEventListener('click', () => {
    const currentSort = params.column.getSort(); // 'asc' | 'desc' | undefined
    let nextSort;
    if (currentSort === 'asc') nextSort = 'desc';
    else if (currentSort === 'desc') nextSort = null;
    else nextSort = 'asc';

    params.column.setSort(nextSort);
    this.updateSortIcon();
  });

  const right = document.createElement('div');
  right.style.display = 'flex';
  right.style.alignItems = 'center';
  right.style.gap = '4px';
  right.appendChild(this.sortIcon);
  right.appendChild(button);

  wrapper.appendChild(label);
  wrapper.appendChild(right);

  this.eGui = wrapper;
};

MyHeader.prototype.getGui = function () {
  return this.eGui;
};

// âœ… ì •ë ¬ ì•„ì´ì½˜ ìƒíƒœ ê°±ì‹ ìš© í•¨ìˆ˜
MyHeader.prototype.updateSortIcon = function () {
  const sort = this.params.column.getSort();
  if (sort === 'asc') this.sortIcon.innerText = 'â–²';
  else if (sort === 'desc') this.sortIcon.innerText = 'â–¼';
  else this.sortIcon.innerText = 'â‡…';
};


.my-custom-header-wrapper {
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: 100%;
  height: 100%;
  /* background-color: white; â† ì œê±° */
  padding: 0 4px;
  box-sizing: border-box;
  font-size: inherit;
  color: inherit;
}

.my-header-button {
  background: none;
  border: none;
  cursor: pointer;
  padding: 2px;
  font-size: inherit;
  color: inherit;
}